{% load static %}
<!-- header -->
<header class="bg-red fixed-top">
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid mx-4 mx-lg-5">
      <a
        class="text-yellow fw-bold fs-4 text-decoration-none"
        href="{% url 'home' %}"
        >NAN.EDU</a
      >

      <!-- navbar toggle untuk tampilan kecil -->
      <button
        class="navbar-toggler border-white"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <i class="bi bi-list text-white fs-3"></i>
      </button>

      <!-- menu items -->
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav gap-lg-3">
          <!-- cek login atau belum (mode dekstop) -->
          {% if user.is_authenticated %}
          <li class="nav-item ms-lg-3 my-2 my-lg-0 dropdown order-lg-5">
            <a
              class="d-flex align-items-center"
              type="button"
              id="dropdownMenu"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <img
                src="{% if user.profile.photo %}{{ user.profile.photo.url }}{% else %}{% static 'images/avatar.jpeg' %}{% endif %}"
                alt="Profile Picture"
                class="rounded-circle object-fit-cover"
                style="width: 40px; height: 40px"
              />
            </a>
            <ul
              class="dropdown-menu dropdown-menu-end mt-2 bg-secondary-subtle"
              aria-labelledby="dropdownMenu"
            >
              <li class="mb-2">
                <div
                  class="d-flex flex-row justify-content-between align-items-center gap-3 p-2"
                >
                  <img
                    src="{% if user.profile.photo %}{{ user.profile.photo.url }}{% else %}{% static 'images/avatar.jpeg' %}{% endif %}"
                    alt="Profile Picture"
                    class="rounded-circle object-fit-cover w-100 d-none d-lg-block"
                    style="max-width: 45px; max-height: 45px"
                  />
                  <p class="text-muted m-0 px-2 px-lg-0">
                    {% if user.first_name or user.last_name %} {{
                    user.first_name }} {{ user.last_name }} {% else %} Hello,
                    User {% endif %}
                  </p>
                </div>
              </li>
              <li class="bg-white py-2">
                {% if user.is_superuser %}
                <a class="dropdown-item" href="{% url 'admin:index' %}"
                  >Dashboard</a
                >
                {% endif %}
                <a class="dropdown-item" href="{% url 'view_profile' %}"
                  >Profile</a
                >
                <a class="dropdown-item" href="{% url 'account_logout' %}"
                  >Logout</a
                >
              </li>
            </ul>
          </li>
          {% else %}
          <li class="nav-item ms-lg-3 my-2 my-lg-0 order-lg-5">
            <a
              class="btn btn-dark rounded-2 py-2 px-4"
              href="{% url 'account_login' %}"
              >Login</a
            >
          </li>
          {% endif %}
          <li class="nav-item">
            <a
              class="nav-link text-white-hover"
              aria-current="page"
              href="{% url 'home' %}"
              >Home</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link text-white-hover" href="{% url 'aboutus' %}"
              >About Us</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link text-white-hover" href="{% url 'contactus' %}"
              >Contact Us</a
            >
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>
